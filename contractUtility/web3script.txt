var release_lock_contract_address = web3.toHex("0x143a62a273e6947f7B07859d087C724bE90759Bb");
var drc_token_contract_address = web3.toHex("0xE8ab8Bc6174F48b9B86372042742Fd362AD29A5A");

var drctoken_abi_data = [{"constant":true,"inputs":[],"name":"mintingFinished","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"INITIAL_SUPPLY","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"unpause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"mint","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_value","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"paused","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_subtractedValue","type":"uint256"}],"name":"decreaseApproval","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_toMulti","type":"address[]"},{"name":"_values","type":"uint256[]"}],"name":"transferMultiAddressFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_toMulti","type":"address[]"},{"name":"_values","type":"uint256[]"}],"name":"transferMultiAddress","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_value","type":"uint256"}],"name":"burnFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"finishMinting","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"pause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"frozenAccount","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"},{"name":"_extraData","type":"bytes"}],"name":"approveAndCall","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_addedValue","type":"uint256"}],"name":"increaseApproval","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_target","type":"address"},{"name":"_freeze","type":"bool"}],"name":"freezeAccount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_target","type":"address"},{"indexed":false,"name":"_frozen","type":"bool"}],"name":"FrozenFunds","type":"event"},{"anonymous":false,"inputs":[],"name":"Pause","type":"event"},{"anonymous":false,"inputs":[],"name":"Unpause","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[],"name":"MintFinished","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"burner","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]
var drctokenContract = web3.eth.contract(drctoken_abi_data);
var drctokenInstance = drctokenContract.at(drc_token_contract_address);

var releaselock_abi_data = [{"constant":false,"inputs":[],"name":"releaseAllOnceLock","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_target","type":"address"},{"name":"_dest","type":"address"}],"name":"releaseWithStage","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_account","type":"address"}],"name":"getRemainOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"changeContractOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_tokenOwner","type":"address"},{"name":"_target","type":"address"},{"name":"_value","type":"uint256"},{"name":"_frozenEndTime","type":"uint256"},{"name":"_releasePeriod","type":"uint256"}],"name":"transferAndFreeze","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_targets","type":"address[]"}],"name":"releaseMultiAccounts","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"needRelease","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_target","type":"address"},{"name":"_value","type":"uint256"},{"name":"_frozenEndTime","type":"uint256"},{"name":"_releasePeriod","type":"uint256"}],"name":"freeze","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_contract","type":"address"}],"name":"setContract","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_target","type":"address"}],"name":"releaseAccount","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"frozenAccounts","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_targets","type":"address[]"},{"name":"_dests","type":"address[]"}],"name":"releaseMultiWithStage","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owned","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_target","type":"address"},{"indexed":false,"name":"_amount","type":"uint256"}],"name":"ReleaseFunds","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}]
var releaseLockContract = web3.eth.contract(releaselock_abi_data);
var releaseLockInstance = releaseLockContract.at(release_lock_contract_address);

var drctokenOwner = drctokenInstance.owner.call();
var releaseLockOwner = releaseLockInstance.owner.call();

web3.personal.unlockAccount(releaseLockOwner, '1234567890', 7200);


if (drctokenOwner != release_lock_contract_address) {drctokenInstance.transferOwnership(release_lock_contract_address, {from: drctokenOwner, gasPrice: '3000000000'});}
releaseLockInstance.setContract(drc_token_contract_address, {from: releaseLockOwner, gasPrice: '3000000000'});
drctokenInstance.transferOwnership(release_lock_contract_address, {from: drctokenOwner, gasPrice: '3000000000'});

var test_accounts = ["0xf17f52151EbEF6C7334FAD080c5704D77216b732", "0xC5fdf4076b8F3A5357c5E395ab970B5B54098Fef", "0x821aEa9a577a9b44299B9c15c88cf3087F3b5544", "0x0d1d4e623D10F9FBA5Db95830F7d3839406C6AF2", "0x2932b7A2355D6fecc4b5c0B6BD44cC31df247a2e", "0x2191eF87E392377ec08E7c08Eb105Ef5448eCED5", "0x0F4F2Ac550A1b4e2280d04c21cEa7EBD822934b5", "0x6330A553Fc93768F612722BB8c2eC78aC90B3bbc","0x5AEDA56215b167893e80B4fE645BA6d5Bab767DE","0x69e1CB5cFcA8A311586e3406ed0301C06fb839a2", "0xF014343BDFFbED8660A9d8721deC985126f189F3","0x0E79EDbD6A727CfeE09A2b1d0A59F7752d5bf7C9"];
var release_lock_data = [[500000, (new Date(2018, 1, 28, 19, 0, 0)).getTime(), 0], [200000, (new Date(2018, 1, 28, 19, 5, 17)).getTime(), 0], [300000, (new Date(2018, 1, 28, 19, 10, 0)).getTime(), 0], [100000, (new Date(2018, 1, 28, 19, 12, 10)).getTime(), 0], [600000, (new Date(2018, 1, 28, 19, 20, 0)).getTime(), 0], [700000, (new Date(2018, 1, 28, 19, 8, 8)).getTime(), 0], [3500000, (new Date(2018, 1, 28, 19, 10, 0)).getTime(), 0], [50000, (new Date(2018, 1, 28, 19, 18, 25)).getTime(), 0], [5000000, (new Date(2018, 1, 28, 19, 15, 0)).getTime(), 0], [250000, (new Date(2018, 1, 28, 19, 10, 12)).getTime(), 0], [470000, (new Date(2018, 1, 28, 19, 17, 46)).getTime(), 0], [6230000, (new Date(2018, 1, 28, 19, 22, 0)).getTime(), 0]];

var release_lock_data = [[500000, (new Date(2018, 2, 1, 19, 0, 0)).getTime(), 0], [200000, (new Date(2018, 2, 1, 19, 5, 17)).getTime(), 600], [300000, (new Date(2018, 2, 1, 19, 10, 0)).getTime(), 0], [100000, (new Date(2018, 2, 1, 19, 12, 10)).getTime(), 600], [600000, (new Date(2018, 2, 1, 19, 20, 0)).getTime(), 0], [700000, (new Date(2018, 2, 1, 19, 8, 8)).getTime(), 600], [3500000, (new Date(2018, 2, 1, 19, 10, 0)).getTime(), 0], [50000, (new Date(2018, 2, 1, 19, 18, 25)).getTime(), 600], [5000000, (new Date(2018, 2, 1, 19, 15, 0)).getTime(), 0], [250000, (new Date(2018, 2, 1, 19, 10, 12)).getTime(), 600], [470000, (new Date(2018, 2, 1, 19, 17, 46)).getTime(), 600], [6230000, (new Date(2018, 2, 1, 19, 22, 0)).getTime(), 0]];
var release_lock_data_2 = [[500000, (new Date(2018, 2, 1, 19, 50, 0)).getTime(), 900], [200000, (new Date(2018, 2, 1, 20, 10, 17)).getTime(), 600], [300000, (new Date(2018, 2, 1, 20, 10, 0)).getTime(), 0], [100000, (new Date(2018, 2, 1, 20, 17, 10)).getTime(), 600], [600000, (new Date(2018, 2, 1, 20, 15, 0)).getTime(), 900], [700000, (new Date(2018, 2, 1, 20, 12, 8)).getTime(), 0], [350000, (new Date(2018, 2, 1, 20, 10, 0)).getTime(), 0], [500000, (new Date(2018, 2, 1, 20, 24, 25)).getTime(), 600], [500000, (new Date(2018, 2, 1, 20, 15, 0)).getTime(), 0], [250000, (new Date(2018, 2, 1, 20, 15, 12)).getTime(), 600], [470000, (new Date(2018, 2, 1, 20, 25, 46)).getTime(), 600], [623000, (new Date(2018, 2, 1, 20, 22, 0)).getTime(), 0]];
var release_lock_data_3 = [[500000, (new Date(2018, 2, 1, 20, 10, 0)).getTime(), 0], [200000, (new Date(2018, 2, 1, 20, 15, 17)).getTime(), 600], [300000, (new Date(2018, 2, 1, 20, 15, 0)).getTime(), 0], [100000, (new Date(2018, 2, 1, 20, 22, 10)).getTime(), 600], [600000, (new Date(2018, 2, 1, 20, 20, 0)).getTime(), 900], [700000, (new Date(2018, 2, 1, 20, 10, 8)).getTime(), 600], [350000, (new Date(2018, 2, 1, 20, 13, 0)).getTime(), 600], [500000, (new Date(2018, 2, 1, 20, 30, 25)).getTime(), 0],  [500000, (new Date(2018, 2, 1, 20, 20, 0)).getTime(), 0],  [250000, (new Date(2018, 2, 1, 20, 20, 12)).getTime(), 900], [470000, (new Date(2018, 2, 1, 20, 1, 46)).getTime(), 0], [623000, (new Date(2018, 2, 1, 20, 1, 0)).getTime(), 600]];

drctokenInstance.approve(release_lock_contract_address, 5E+26, {from: releaseLockOwner, gas: 4700000, gasPrice: '3000000000'}, function (err, res) {console.log(res);});

var len = test_accounts.length;
for (var i = 0; i < len; i++) {releaseLockInstance.freeze(test_accounts[i], release_lock_data[i][0], release_lock_data[i][1] / 1000, release_lock_data[i][2],{from: releaseLockOwner, gasPrice: '3000000000'}, function (err, res) {console.log(res);});}
drctokenInstance.transferFrom(releaseLockOwner, test_accounts[i], release_lock_data[i][0], {from: releaseLockOwner, gasPrice: '3000000000'});
for (var i = 0; i < len; i++) {releaseLockInstance.transferAndFreeze(releaseLockOwner, test_accounts[i], release_lock_data[i][0] * 1E18, release_lock_data[i][1] / 1000, release_lock_data[i][2],{from: releaseLockOwner, gas: 4700000, gasPrice: '3000000000'}, function (err, res) {console.log(res);});}

for (var i = 0; i < len; i++) {web3.personal.unlockAccount(test_accounts[i], '1234567890', 7200)};

drctokenInstance.approve(test_accounts[i], (release_lock_data_2[i][0] + release_lock_data_3[i][0]) * 1E18 , {from: releaseLockOwner, gas: 4700000, gasPrice: '3000000000'}, function (err, res) {console.log(res);});

releaseLockInstance.release({from: releaseLockOwner, gas: 4700000, gasPrice: '3000000000'});

var addresses_to_release = ["0x9bC1169Ca09555bf2721A5C9eC6D69c8073bfeB4", "0xa23eAEf02F9E0338EEcDa8Fdd0A73aDD781b2A86", "0xc449a27B106BE1120Bd1Fd62F8166A2F61588eb9", "0xF24AE9CE9B62d83059BD849b9F36d3f4792F5081", "0xc44B027a94913FB515B19F04CAf515e74AE24FD6", "0xcb0236B37Ff19001633E38808bd124b60B1fE1ba", "0x715e632C0FE0d07D02fC3d2Cf630d11e1A45C522", "0x90FFD070a8333ACB4Ac1b8EBa59a77f9f1001819", "0x036945CD50df76077cb2D6CF5293B32252BCe247", "0x23f0227FB09D50477331D2BB8519A38a52B9dFAF", "0x799759c45265B96cac16b88A7084C068d38aFce9", "0xA6BFE07B18Df9E42F0086D2FCe9334B701868314"];

releaseLockInstance.releaseMultiWithAmount(drctokenInstance.address, test_accounts, addresses_to_release, {from: releaseLockOwner, gas: 4700000, gasPrice: '3000000000'}, function (err, res) {console.log(res);});

function (err, res) {console.log(res);}

for (var i = 0; i < len; i++) {drctokenInstance.approve(release_lock_contract_address, (release_lock_data_2[i][0] + release_lock_data_3[i][0]) * 1E18 , {from: test_accounts[i], gas: 4700000, gasPrice: '3000000000'}, function (err, res) {console.log(res);});}